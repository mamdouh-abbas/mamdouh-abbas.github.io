---
layout: post
title:  "Creating Migration File Via Generating Rails Migration"
tags: ruby rails migration database 
keywords: ruby rails migrate database
description: Creating Migration File Via Generating Migration In Rails Application.
published: true
---

   TAGS:
   
   {% for tag in page.tags %} {{ tag }} {% endfor %}

{% include migration_related.html %}

<h3>Creating Migration File Via Generating Rails Migration.</h3>

The general form is `rails g migration` and then you can create `books` table and state columns names and its datatypes as:

{% highlight ruby %}
rails g migration CreateBook title:string brief:text
{% endhighlight %}

This will create migration file in `db/migrate` folder to create `books` table.

Note, The generated file doesn't create `timestamps` fields `created_at` and `updated_at` so, you can add:

{% highlight ruby %}
t.timestamps null: false
{% endhighlight %}

Also, You can edit this file and add or remove columns before making `rake db:migrate`

And, You can state all table's columns manually in the migration file not in `rails g migration` command line.

Then, Apply changes to database using:

{% highlight ruby %}
rake db:migrate
{% endhighlight %}

Now, You must create `book.rb` model manually in `app/models` to deal with `books` table as:

{% highlight ruby %}
class Book<ActiveRecord::Base
end
{% endhighlight %}

Note that you can undo this migration using:

{% highlight ruby %}
rake db:rollback
{% endhighlight %}

<i style="color:red;">Note, Any `rake db:rollback` may delete stored data in the `targeted` columns and can't be restored again.</i>

Also, You can delete the migration file generated by converting `g`(for generate) to `d` (for destroy) in migration command as:
 
{% highlight ruby %}
rails g CreateBook title brief:text
#to be
rails d CreateBook title brief:text
{% endhighlight %}

The last line will delete the migration file generted by the first line.

Now take a look to this tutorial video:

<iframe width="100%" height="315" src="https://www.youtube.com/embed/TdIQmThzN84" frameborder="0" allowfullscreen></iframe>
